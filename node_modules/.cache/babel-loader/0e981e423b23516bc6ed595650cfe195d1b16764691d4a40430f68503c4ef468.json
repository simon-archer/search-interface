{"ast":null,"code":"'use client';\n\nimport { useContext } from 'react';\nimport { RovingTabindexContext } from './RovingTabindexRoot.js';\n\n// Logic from: https://www.joshuawootonn.com/react-roving-tabindex\n// Inspired by: https://github.com/radix-ui/primitives/tree/main/packages/react/roving-focus/src\n/** Handles props for `RovingTabIndex` in context with `RovingTabIndexRoot` */\nconst useRovingTabindex = value => {\n  const {\n    elements,\n    getOrderedItems,\n    setFocusableValue,\n    focusableValue,\n    onShiftTab\n  } = useContext(RovingTabindexContext);\n  return {\n    getOrderedItems,\n    isFocusable: focusableValue === value,\n    getRovingProps: props => ({\n      ...props,\n      ref: element => {\n        if (element) {\n          elements.current.set(value, element);\n        } else {\n          elements.current.delete(value);\n        }\n      },\n      onKeyDown: e => {\n        props?.onKeyDown?.(e);\n        if (e.shiftKey && e.key === 'Tab') {\n          onShiftTab();\n          return;\n        }\n      },\n      onFocus: e => {\n        props?.onFocus?.(e);\n        setFocusableValue(value);\n      },\n      ['data-roving-tabindex-item']: true,\n      tabIndex: focusableValue === value ? 0 : -1\n    })\n  };\n};\nexport { useRovingTabindex };","map":{"version":3,"names":["useContext","RovingTabindexContext","useRovingTabindex","value","elements","getOrderedItems","setFocusableValue","focusableValue","onShiftTab","isFocusable","getRovingProps","props","ref","element","current","set","delete","onKeyDown","e","shiftKey","key","onFocus","tabIndex"],"sources":["/Users/simondreyer/CascadeProjects/search-interface/node_modules/@digdir/designsystemet-react/dist/esm/utilities/RovingTabIndex/useRovingTabindex.js"],"sourcesContent":["'use client';\nimport { useContext } from 'react';\nimport { RovingTabindexContext } from './RovingTabindexRoot.js';\n\n// Logic from: https://www.joshuawootonn.com/react-roving-tabindex\n// Inspired by: https://github.com/radix-ui/primitives/tree/main/packages/react/roving-focus/src\n/** Handles props for `RovingTabIndex` in context with `RovingTabIndexRoot` */\nconst useRovingTabindex = (value) => {\n    const { elements, getOrderedItems, setFocusableValue, focusableValue, onShiftTab, } = useContext(RovingTabindexContext);\n    return {\n        getOrderedItems,\n        isFocusable: focusableValue === value,\n        getRovingProps: (props) => ({\n            ...props,\n            ref: (element) => {\n                if (element) {\n                    elements.current.set(value, element);\n                }\n                else {\n                    elements.current.delete(value);\n                }\n            },\n            onKeyDown: (e) => {\n                props?.onKeyDown?.(e);\n                if (e.shiftKey && e.key === 'Tab') {\n                    onShiftTab();\n                    return;\n                }\n            },\n            onFocus: (e) => {\n                props?.onFocus?.(e);\n                setFocusableValue(value);\n            },\n            ['data-roving-tabindex-item']: true,\n            tabIndex: focusableValue === value ? 0 : -1,\n        }),\n    };\n};\n\nexport { useRovingTabindex };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,qBAAqB,QAAQ,yBAAyB;;AAE/D;AACA;AACA;AACA,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;EACjC,MAAM;IAAEC,QAAQ;IAAEC,eAAe;IAAEC,iBAAiB;IAAEC,cAAc;IAAEC;EAAY,CAAC,GAAGR,UAAU,CAACC,qBAAqB,CAAC;EACvH,OAAO;IACHI,eAAe;IACfI,WAAW,EAAEF,cAAc,KAAKJ,KAAK;IACrCO,cAAc,EAAGC,KAAK,KAAM;MACxB,GAAGA,KAAK;MACRC,GAAG,EAAGC,OAAO,IAAK;QACd,IAAIA,OAAO,EAAE;UACTT,QAAQ,CAACU,OAAO,CAACC,GAAG,CAACZ,KAAK,EAAEU,OAAO,CAAC;QACxC,CAAC,MACI;UACDT,QAAQ,CAACU,OAAO,CAACE,MAAM,CAACb,KAAK,CAAC;QAClC;MACJ,CAAC;MACDc,SAAS,EAAGC,CAAC,IAAK;QACdP,KAAK,EAAEM,SAAS,GAAGC,CAAC,CAAC;QACrB,IAAIA,CAAC,CAACC,QAAQ,IAAID,CAAC,CAACE,GAAG,KAAK,KAAK,EAAE;UAC/BZ,UAAU,CAAC,CAAC;UACZ;QACJ;MACJ,CAAC;MACDa,OAAO,EAAGH,CAAC,IAAK;QACZP,KAAK,EAAEU,OAAO,GAAGH,CAAC,CAAC;QACnBZ,iBAAiB,CAACH,KAAK,CAAC;MAC5B,CAAC;MACD,CAAC,2BAA2B,GAAG,IAAI;MACnCmB,QAAQ,EAAEf,cAAc,KAAKJ,KAAK,GAAG,CAAC,GAAG,CAAC;IAC9C,CAAC;EACL,CAAC;AACL,CAAC;AAED,SAASD,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}