{"ast":null,"code":"'use client';\n\nimport { jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useCallback } from 'react';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { usePrevious } from '../../hooks/usePrevious.js';\nimport { useMediaQuery } from '../../hooks/useMediaQuery.js';\nconst transitionDurationInMilliseconds = 250;\n/**\n * AnimateHeight is a component that animates its height when the `open` prop changes.\n */\nconst AnimateHeight = _ref => {\n  let {\n    children,\n    className,\n    open = false,\n    style,\n    ...rest\n  } = _ref;\n  const [height, setHeight] = useState(0);\n  const prevOpen = usePrevious(open);\n  const openOrClosed = open ? 'open' : 'closed';\n  const [state, setState] = useState(openOrClosed);\n  const timeoutRef = useRef(null);\n  const shouldAnimate = !useMediaQuery('(prefers-reduced-motion)');\n  const contentRef = useCallback(node => {\n    if (node) {\n      const resizeObserver = new ResizeObserver(() => {\n        setHeight(open ? node.getBoundingClientRect().height : 0);\n      });\n      resizeObserver.observe(node);\n    }\n    if (prevOpen !== undefined && prevOpen !== open) {\n      // Opening or closing\n      setState(shouldAnimate ? 'openingOrClosing' : openOrClosed);\n      timeoutRef.current && clearTimeout(timeoutRef.current); // Reset timeout if already active (i.e. if the user closes the component before it finishes opening)\n      timeoutRef.current = setTimeout(() => {\n        setState(openOrClosed);\n      }, transitionDurationInMilliseconds);\n    }\n  }, [open, openOrClosed, prevOpen, shouldAnimate]);\n  const transition = state === 'openingOrClosing' ? `height ${transitionDurationInMilliseconds}ms ease-in-out` : undefined;\n  return jsx(\"div\", {\n    ...rest,\n    className: clsx('fds-animate-height', `fds-animate-height--${state}`, className),\n    style: {\n      height,\n      transition,\n      ...style\n    },\n    children: jsx(\"div\", {\n      ref: contentRef,\n      className: 'fds-animate-height__content',\n      children: children\n    })\n  });\n};\nexport { AnimateHeight };","map":{"version":3,"names":["jsx","useState","useRef","useCallback","clsx","usePrevious","useMediaQuery","transitionDurationInMilliseconds","AnimateHeight","_ref","children","className","open","style","rest","height","setHeight","prevOpen","openOrClosed","state","setState","timeoutRef","shouldAnimate","contentRef","node","resizeObserver","ResizeObserver","getBoundingClientRect","observe","undefined","current","clearTimeout","setTimeout","transition","ref"],"sources":["/Users/simondreyer/CascadeProjects/search-interface/node_modules/@digdir/designsystemet-react/dist/esm/utilities/AnimateHeight/AnimateHeight.js"],"sourcesContent":["'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useCallback } from 'react';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { usePrevious } from '../../hooks/usePrevious.js';\nimport { useMediaQuery } from '../../hooks/useMediaQuery.js';\n\nconst transitionDurationInMilliseconds = 250;\n/**\n * AnimateHeight is a component that animates its height when the `open` prop changes.\n */\nconst AnimateHeight = ({ children, className, open = false, style, ...rest }) => {\n    const [height, setHeight] = useState(0);\n    const prevOpen = usePrevious(open);\n    const openOrClosed = open ? 'open' : 'closed';\n    const [state, setState] = useState(openOrClosed);\n    const timeoutRef = useRef(null);\n    const shouldAnimate = !useMediaQuery('(prefers-reduced-motion)');\n    const contentRef = useCallback((node) => {\n        if (node) {\n            const resizeObserver = new ResizeObserver(() => {\n                setHeight(open ? node.getBoundingClientRect().height : 0);\n            });\n            resizeObserver.observe(node);\n        }\n        if (prevOpen !== undefined && prevOpen !== open) {\n            // Opening or closing\n            setState(shouldAnimate ? 'openingOrClosing' : openOrClosed);\n            timeoutRef.current && clearTimeout(timeoutRef.current); // Reset timeout if already active (i.e. if the user closes the component before it finishes opening)\n            timeoutRef.current = setTimeout(() => {\n                setState(openOrClosed);\n            }, transitionDurationInMilliseconds);\n        }\n    }, [open, openOrClosed, prevOpen, shouldAnimate]);\n    const transition = state === 'openingOrClosing'\n        ? `height ${transitionDurationInMilliseconds}ms ease-in-out`\n        : undefined;\n    return (jsx(\"div\", { ...rest, className: clsx('fds-animate-height', `fds-animate-height--${state}`, className), style: { height, transition, ...style }, children: jsx(\"div\", { ref: contentRef, className: 'fds-animate-height__content', children: children }) }));\n};\n\nexport { AnimateHeight };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,GAAG,QAAQ,mBAAmB;AACvC,SAASC,QAAQ,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACrD,SAASC,IAAI,QAAQ,sCAAsC;AAC3D,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,aAAa,QAAQ,8BAA8B;AAE5D,MAAMC,gCAAgC,GAAG,GAAG;AAC5C;AACA;AACA;AACA,MAAMC,aAAa,GAAGC,IAAA,IAA2D;EAAA,IAA1D;IAAEC,QAAQ;IAAEC,SAAS;IAAEC,IAAI,GAAG,KAAK;IAAEC,KAAK;IAAE,GAAGC;EAAK,CAAC,GAAAL,IAAA;EACxE,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAMgB,QAAQ,GAAGZ,WAAW,CAACO,IAAI,CAAC;EAClC,MAAMM,YAAY,GAAGN,IAAI,GAAG,MAAM,GAAG,QAAQ;EAC7C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAACiB,YAAY,CAAC;EAChD,MAAMG,UAAU,GAAGnB,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAMoB,aAAa,GAAG,CAAChB,aAAa,CAAC,0BAA0B,CAAC;EAChE,MAAMiB,UAAU,GAAGpB,WAAW,CAAEqB,IAAI,IAAK;IACrC,IAAIA,IAAI,EAAE;MACN,MAAMC,cAAc,GAAG,IAAIC,cAAc,CAAC,MAAM;QAC5CV,SAAS,CAACJ,IAAI,GAAGY,IAAI,CAACG,qBAAqB,CAAC,CAAC,CAACZ,MAAM,GAAG,CAAC,CAAC;MAC7D,CAAC,CAAC;MACFU,cAAc,CAACG,OAAO,CAACJ,IAAI,CAAC;IAChC;IACA,IAAIP,QAAQ,KAAKY,SAAS,IAAIZ,QAAQ,KAAKL,IAAI,EAAE;MAC7C;MACAQ,QAAQ,CAACE,aAAa,GAAG,kBAAkB,GAAGJ,YAAY,CAAC;MAC3DG,UAAU,CAACS,OAAO,IAAIC,YAAY,CAACV,UAAU,CAACS,OAAO,CAAC,CAAC,CAAC;MACxDT,UAAU,CAACS,OAAO,GAAGE,UAAU,CAAC,MAAM;QAClCZ,QAAQ,CAACF,YAAY,CAAC;MAC1B,CAAC,EAAEX,gCAAgC,CAAC;IACxC;EACJ,CAAC,EAAE,CAACK,IAAI,EAAEM,YAAY,EAAED,QAAQ,EAAEK,aAAa,CAAC,CAAC;EACjD,MAAMW,UAAU,GAAGd,KAAK,KAAK,kBAAkB,GACzC,UAAUZ,gCAAgC,gBAAgB,GAC1DsB,SAAS;EACf,OAAQ7B,GAAG,CAAC,KAAK,EAAE;IAAE,GAAGc,IAAI;IAAEH,SAAS,EAAEP,IAAI,CAAC,oBAAoB,EAAE,uBAAuBe,KAAK,EAAE,EAAER,SAAS,CAAC;IAAEE,KAAK,EAAE;MAAEE,MAAM;MAAEkB,UAAU;MAAE,GAAGpB;IAAM,CAAC;IAAEH,QAAQ,EAAEV,GAAG,CAAC,KAAK,EAAE;MAAEkC,GAAG,EAAEX,UAAU;MAAEZ,SAAS,EAAE,6BAA6B;MAAED,QAAQ,EAAEA;IAAS,CAAC;EAAE,CAAC,CAAC;AACvQ,CAAC;AAED,SAASF,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}