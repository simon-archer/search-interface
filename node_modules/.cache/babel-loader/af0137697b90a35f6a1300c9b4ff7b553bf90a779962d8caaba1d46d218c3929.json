{"ast":null,"code":"'use client';\n\nimport { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js';\nconst stashedTime = {};\nfunction useSynchronizedAnimation(animationName) {\n  const ref = useRef(null);\n  useIsomorphicLayoutEffect(() => {\n    const animations = document.getAnimations().filter(animation => 'animationName' in animation && animation.animationName === animationName);\n    const myAnimation = animations.find(animation => animation.effect?.target === ref.current);\n    if (myAnimation && myAnimation === animations[0] && stashedTime[animationName]) {\n      myAnimation.currentTime = stashedTime[animationName];\n    }\n    if (myAnimation && myAnimation !== animations[0]) {\n      myAnimation.currentTime = animations[0].currentTime;\n    }\n    return () => {\n      if (myAnimation && myAnimation === animations[0]) {\n        stashedTime[animationName] = myAnimation.currentTime;\n      }\n    };\n  }, [animationName]);\n  return ref;\n}\nexport { useSynchronizedAnimation };","map":{"version":3,"names":["useRef","useIsomorphicLayoutEffect","stashedTime","useSynchronizedAnimation","animationName","ref","animations","document","getAnimations","filter","animation","myAnimation","find","effect","target","current","currentTime"],"sources":["/Users/simondreyer/CascadeProjects/search-interface/node_modules/@digdir/designsystemet-react/dist/esm/hooks/useSynchronizedAnimation.js"],"sourcesContent":["'use client';\nimport { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js';\n\nconst stashedTime = {};\nfunction useSynchronizedAnimation(animationName) {\n    const ref = useRef(null);\n    useIsomorphicLayoutEffect(() => {\n        const animations = document\n            .getAnimations()\n            .filter((animation) => 'animationName' in animation &&\n            animation.animationName === animationName);\n        const myAnimation = animations.find((animation) => animation.effect?.target === ref.current);\n        if (myAnimation &&\n            myAnimation === animations[0] &&\n            stashedTime[animationName]) {\n            myAnimation.currentTime = stashedTime[animationName];\n        }\n        if (myAnimation && myAnimation !== animations[0]) {\n            myAnimation.currentTime = animations[0].currentTime;\n        }\n        return () => {\n            if (myAnimation && myAnimation === animations[0]) {\n                stashedTime[animationName] = myAnimation.currentTime;\n            }\n        };\n    }, [animationName]);\n    return ref;\n}\n\nexport { useSynchronizedAnimation };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,MAAM,QAAQ,OAAO;AAC9B,SAASC,yBAAyB,QAAQ,gCAAgC;AAE1E,MAAMC,WAAW,GAAG,CAAC,CAAC;AACtB,SAASC,wBAAwBA,CAACC,aAAa,EAAE;EAC7C,MAAMC,GAAG,GAAGL,MAAM,CAAC,IAAI,CAAC;EACxBC,yBAAyB,CAAC,MAAM;IAC5B,MAAMK,UAAU,GAAGC,QAAQ,CACtBC,aAAa,CAAC,CAAC,CACfC,MAAM,CAAEC,SAAS,IAAK,eAAe,IAAIA,SAAS,IACnDA,SAAS,CAACN,aAAa,KAAKA,aAAa,CAAC;IAC9C,MAAMO,WAAW,GAAGL,UAAU,CAACM,IAAI,CAAEF,SAAS,IAAKA,SAAS,CAACG,MAAM,EAAEC,MAAM,KAAKT,GAAG,CAACU,OAAO,CAAC;IAC5F,IAAIJ,WAAW,IACXA,WAAW,KAAKL,UAAU,CAAC,CAAC,CAAC,IAC7BJ,WAAW,CAACE,aAAa,CAAC,EAAE;MAC5BO,WAAW,CAACK,WAAW,GAAGd,WAAW,CAACE,aAAa,CAAC;IACxD;IACA,IAAIO,WAAW,IAAIA,WAAW,KAAKL,UAAU,CAAC,CAAC,CAAC,EAAE;MAC9CK,WAAW,CAACK,WAAW,GAAGV,UAAU,CAAC,CAAC,CAAC,CAACU,WAAW;IACvD;IACA,OAAO,MAAM;MACT,IAAIL,WAAW,IAAIA,WAAW,KAAKL,UAAU,CAAC,CAAC,CAAC,EAAE;QAC9CJ,WAAW,CAACE,aAAa,CAAC,GAAGO,WAAW,CAACK,WAAW;MACxD;IACJ,CAAC;EACL,CAAC,EAAE,CAACZ,aAAa,CAAC,CAAC;EACnB,OAAOC,GAAG;AACd;AAEA,SAASF,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}