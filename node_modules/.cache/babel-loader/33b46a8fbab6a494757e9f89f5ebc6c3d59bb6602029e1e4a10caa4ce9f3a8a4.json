{"ast":null,"code":"'use client';\n\nimport { useContext, useId } from 'react';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { getSize } from '../../utilities/getSize.js';\nimport { FieldsetContext } from './Fieldset/FieldsetContext.js';\n\n/**\n * Handles props and their state for various form-fields in context with Fieldset\n */\nconst useFormField = (props, prefix) => {\n  const fieldset = useContext(FieldsetContext);\n  const randomId = useId();\n  const id = props.id ?? `${prefix}-${randomId}`;\n  const errorId = props.errorId ?? `${prefix}-error-${randomId}`;\n  const descriptionId = `${prefix}-description-${randomId}`;\n  const disabled = fieldset?.disabled || props?.disabled;\n  const readOnly = (fieldset?.readOnly || props?.readOnly) && !disabled || undefined;\n  const hasError = !disabled && !readOnly && !!(props.error || fieldset?.error);\n  const size = getSize(props.size || fieldset?.size || 'md');\n  return {\n    readOnly,\n    hasError,\n    errorId,\n    descriptionId,\n    size,\n    inputProps: {\n      id,\n      disabled,\n      'aria-invalid': hasError ? true : undefined,\n      'aria-describedby': clsx(props['aria-describedby'], !!props?.description && typeof props?.description === 'string' && descriptionId, hasError && !fieldset?.error && errorId, hasError && !!fieldset?.error && fieldset?.errorId) || undefined\n    }\n  };\n};\nexport { useFormField };","map":{"version":3,"names":["useContext","useId","clsx","getSize","FieldsetContext","useFormField","props","prefix","fieldset","randomId","id","errorId","descriptionId","disabled","readOnly","undefined","hasError","error","size","inputProps","description"],"sources":["/Users/simondreyer/CascadeProjects/search-interface/node_modules/@digdir/designsystemet-react/dist/esm/components/form/useFormField.js"],"sourcesContent":["'use client';\nimport { useContext, useId } from 'react';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { getSize } from '../../utilities/getSize.js';\nimport { FieldsetContext } from './Fieldset/FieldsetContext.js';\n\n/**\n * Handles props and their state for various form-fields in context with Fieldset\n */\nconst useFormField = (props, prefix) => {\n    const fieldset = useContext(FieldsetContext);\n    const randomId = useId();\n    const id = props.id ?? `${prefix}-${randomId}`;\n    const errorId = props.errorId ?? `${prefix}-error-${randomId}`;\n    const descriptionId = `${prefix}-description-${randomId}`;\n    const disabled = fieldset?.disabled || props?.disabled;\n    const readOnly = ((fieldset?.readOnly || props?.readOnly) && !disabled) || undefined;\n    const hasError = !disabled && !readOnly && !!(props.error || fieldset?.error);\n    const size = getSize(props.size || fieldset?.size || 'md');\n    return {\n        readOnly,\n        hasError,\n        errorId,\n        descriptionId,\n        size,\n        inputProps: {\n            id,\n            disabled,\n            'aria-invalid': hasError ? true : undefined,\n            'aria-describedby': clsx(props['aria-describedby'], (!!props?.description && typeof props?.description === 'string') && descriptionId, (hasError && !fieldset?.error) && errorId, (hasError && !!fieldset?.error) && fieldset?.errorId) || undefined,\n        },\n    };\n};\n\nexport { useFormField };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,UAAU,EAAEC,KAAK,QAAQ,OAAO;AACzC,SAASC,IAAI,QAAQ,sCAAsC;AAC3D,SAASC,OAAO,QAAQ,4BAA4B;AACpD,SAASC,eAAe,QAAQ,+BAA+B;;AAE/D;AACA;AACA;AACA,MAAMC,YAAY,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACpC,MAAMC,QAAQ,GAAGR,UAAU,CAACI,eAAe,CAAC;EAC5C,MAAMK,QAAQ,GAAGR,KAAK,CAAC,CAAC;EACxB,MAAMS,EAAE,GAAGJ,KAAK,CAACI,EAAE,IAAI,GAAGH,MAAM,IAAIE,QAAQ,EAAE;EAC9C,MAAME,OAAO,GAAGL,KAAK,CAACK,OAAO,IAAI,GAAGJ,MAAM,UAAUE,QAAQ,EAAE;EAC9D,MAAMG,aAAa,GAAG,GAAGL,MAAM,gBAAgBE,QAAQ,EAAE;EACzD,MAAMI,QAAQ,GAAGL,QAAQ,EAAEK,QAAQ,IAAIP,KAAK,EAAEO,QAAQ;EACtD,MAAMC,QAAQ,GAAI,CAACN,QAAQ,EAAEM,QAAQ,IAAIR,KAAK,EAAEQ,QAAQ,KAAK,CAACD,QAAQ,IAAKE,SAAS;EACpF,MAAMC,QAAQ,GAAG,CAACH,QAAQ,IAAI,CAACC,QAAQ,IAAI,CAAC,EAAER,KAAK,CAACW,KAAK,IAAIT,QAAQ,EAAES,KAAK,CAAC;EAC7E,MAAMC,IAAI,GAAGf,OAAO,CAACG,KAAK,CAACY,IAAI,IAAIV,QAAQ,EAAEU,IAAI,IAAI,IAAI,CAAC;EAC1D,OAAO;IACHJ,QAAQ;IACRE,QAAQ;IACRL,OAAO;IACPC,aAAa;IACbM,IAAI;IACJC,UAAU,EAAE;MACRT,EAAE;MACFG,QAAQ;MACR,cAAc,EAAEG,QAAQ,GAAG,IAAI,GAAGD,SAAS;MAC3C,kBAAkB,EAAEb,IAAI,CAACI,KAAK,CAAC,kBAAkB,CAAC,EAAG,CAAC,CAACA,KAAK,EAAEc,WAAW,IAAI,OAAOd,KAAK,EAAEc,WAAW,KAAK,QAAQ,IAAKR,aAAa,EAAGI,QAAQ,IAAI,CAACR,QAAQ,EAAES,KAAK,IAAKN,OAAO,EAAGK,QAAQ,IAAI,CAAC,CAACR,QAAQ,EAAES,KAAK,IAAKT,QAAQ,EAAEG,OAAO,CAAC,IAAII;IAC/O;EACJ,CAAC;AACL,CAAC;AAED,SAASV,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}