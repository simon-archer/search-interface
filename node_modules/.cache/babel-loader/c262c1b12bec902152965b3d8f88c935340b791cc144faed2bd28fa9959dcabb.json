{"ast":null,"code":"'use client';\n\nimport { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useEffect, useMemo } from 'react';\nimport { useFloating, useInteractions, useFocus, useClick, useDismiss, useRole, useMergeRefs, FloatingPortal } from '../../node_modules/@floating-ui/react/dist/floating-ui.react.js';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { PopoverContext } from './Popover.js';\nimport { autoUpdate, flip, shift } from '../../node_modules/@floating-ui/dom/dist/floating-ui.dom.js';\nimport { offset } from '../../node_modules/@floating-ui/core/dist/floating-ui.core.js';\nimport { arrow } from '../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.js';\nimport { useIsomorphicLayoutEffect } from '../../hooks/useIsomorphicLayoutEffect.js';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph.js';\nconst ARROW_HEIGHT = 7;\nconst ARROW_GAP = 4;\nconst ARROW_PLACEMENT = {\n  top: 'bottom',\n  right: 'left',\n  bottom: 'top',\n  left: 'right'\n};\nconst PopoverContent = forwardRef(({\n  className,\n  children,\n  style,\n  id,\n  ...rest\n}, ref) => {\n  const {\n    portal,\n    internalOpen,\n    size,\n    isControlled,\n    variant,\n    placement,\n    setInternalOpen,\n    onClose,\n    onOpenChange,\n    anchorEl,\n    popoverId,\n    setPopoverId,\n    triggerId\n  } = useContext(PopoverContext);\n  const Container = portal ? FloatingPortal : React.Fragment;\n  const floatingEl = useRef(null);\n  const arrowRef = useRef(null);\n  useEffect(() => {\n    id && setPopoverId?.(id);\n  }, [id, setPopoverId]);\n  const {\n    context,\n    update,\n    refs,\n    floatingStyles,\n    placement: flPlacement,\n    middlewareData: {\n      arrow: {\n        x: arrowX,\n        y: arrowY\n      } = {}\n    }\n  } = useFloating({\n    placement,\n    open: internalOpen,\n    onOpenChange: localOpen => {\n      onOpenChange && onOpenChange(localOpen);\n      if (!localOpen) onClose && onClose();\n      if (!isControlled) setInternalOpen(localOpen);\n    },\n    whileElementsMounted: autoUpdate,\n    elements: {\n      reference: anchorEl ?? undefined,\n      floating: floatingEl.current\n    },\n    middleware: [offset(ARROW_HEIGHT + ARROW_GAP), flip({\n      fallbackAxisSideDirection: 'start'\n    }), shift(), arrow({\n      element: arrowRef\n    })]\n  });\n  const {\n    getFloatingProps\n  } = useInteractions([useFocus(context), useClick(context), useDismiss(context), useRole(context)]);\n  const floatingRef = useMergeRefs([refs.setFloating, ref]);\n  useIsomorphicLayoutEffect(() => {\n    refs.setReference(anchorEl);\n    if (!refs.reference.current || !refs.floating.current || !internalOpen) return;\n    const cleanup = autoUpdate(refs.reference.current, refs.floating.current, update);\n    return () => cleanup();\n  }, [refs.floating, refs.reference, update, anchorEl, refs, internalOpen]);\n  const arrowPlacement = useMemo(() => {\n    return ARROW_PLACEMENT[flPlacement.split('-')[0]];\n  }, [flPlacement]);\n  return jsx(Fragment, {\n    children: internalOpen && jsx(Container, {\n      children: jsx(Paragraph, {\n        asChild: true,\n        size: size,\n        children: jsxs(\"div\", {\n          ref: floatingEl,\n          className: clsx('fds-popover', `fds-popover--${variant}`, `fds-popover--${size}`, className),\n          \"data-placement\": flPlacement,\n          ...getFloatingProps({\n            ref: floatingRef,\n            tabIndex: undefined\n          }),\n          style: {\n            ...floatingStyles,\n            ...style\n          },\n          id: popoverId,\n          \"aria-labelledby\": triggerId,\n          ...rest,\n          children: [children, jsx(\"div\", {\n            ref: arrowRef,\n            className: clsx('fds-popover__arrow', `fds-popover__arrow--${arrowPlacement}`),\n            style: {\n              height: ARROW_HEIGHT,\n              width: ARROW_HEIGHT,\n              ...(arrowX != null ? {\n                left: arrowX\n              } : {}),\n              ...(arrowY != null ? {\n                top: arrowY\n              } : {}),\n              ...(arrowPlacement ? {\n                [arrowPlacement]: -4.5\n              } : {})\n            }\n          })]\n        })\n      })\n    })\n  });\n});\nPopoverContent.displayName = 'Popover.Content';\nexport { PopoverContent };","map":{"version":3,"names":["jsx","Fragment","jsxs","React","forwardRef","useContext","useRef","useEffect","useMemo","useFloating","useInteractions","useFocus","useClick","useDismiss","useRole","useMergeRefs","FloatingPortal","clsx","PopoverContext","autoUpdate","flip","shift","offset","arrow","useIsomorphicLayoutEffect","Paragraph","ARROW_HEIGHT","ARROW_GAP","ARROW_PLACEMENT","top","right","bottom","left","PopoverContent","className","children","style","id","rest","ref","portal","internalOpen","size","isControlled","variant","placement","setInternalOpen","onClose","onOpenChange","anchorEl","popoverId","setPopoverId","triggerId","Container","floatingEl","arrowRef","context","update","refs","floatingStyles","flPlacement","middlewareData","x","arrowX","y","arrowY","open","localOpen","whileElementsMounted","elements","reference","undefined","floating","current","middleware","fallbackAxisSideDirection","element","getFloatingProps","floatingRef","setFloating","setReference","cleanup","arrowPlacement","split","asChild","tabIndex","height","width","displayName"],"sources":["/Users/simondreyer/CascadeProjects/search-interface/node_modules/@digdir/designsystemet-react/dist/esm/components/Popover/PopoverContent.js"],"sourcesContent":["'use client';\nimport { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useEffect, useMemo } from 'react';\nimport { useFloating, useInteractions, useFocus, useClick, useDismiss, useRole, useMergeRefs, FloatingPortal } from '../../node_modules/@floating-ui/react/dist/floating-ui.react.js';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { PopoverContext } from './Popover.js';\nimport { autoUpdate, flip, shift } from '../../node_modules/@floating-ui/dom/dist/floating-ui.dom.js';\nimport { offset } from '../../node_modules/@floating-ui/core/dist/floating-ui.core.js';\nimport { arrow } from '../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.js';\nimport { useIsomorphicLayoutEffect } from '../../hooks/useIsomorphicLayoutEffect.js';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph.js';\n\nconst ARROW_HEIGHT = 7;\nconst ARROW_GAP = 4;\nconst ARROW_PLACEMENT = {\n    top: 'bottom',\n    right: 'left',\n    bottom: 'top',\n    left: 'right',\n};\nconst PopoverContent = forwardRef(({ className, children, style, id, ...rest }, ref) => {\n    const { portal, internalOpen, size, isControlled, variant, placement, setInternalOpen, onClose, onOpenChange, anchorEl, popoverId, setPopoverId, triggerId, } = useContext(PopoverContext);\n    const Container = portal ? FloatingPortal : React.Fragment;\n    const floatingEl = useRef(null);\n    const arrowRef = useRef(null);\n    useEffect(() => {\n        id && setPopoverId?.(id);\n    }, [id, setPopoverId]);\n    const { context, update, refs, floatingStyles, placement: flPlacement, middlewareData: { arrow: { x: arrowX, y: arrowY } = {} }, } = useFloating({\n        placement,\n        open: internalOpen,\n        onOpenChange: (localOpen) => {\n            onOpenChange && onOpenChange(localOpen);\n            if (!localOpen)\n                onClose && onClose();\n            if (!isControlled)\n                setInternalOpen(localOpen);\n        },\n        whileElementsMounted: autoUpdate,\n        elements: {\n            reference: anchorEl ?? undefined,\n            floating: floatingEl.current,\n        },\n        middleware: [\n            offset(ARROW_HEIGHT + ARROW_GAP),\n            flip({\n                fallbackAxisSideDirection: 'start',\n            }),\n            shift(),\n            arrow({\n                element: arrowRef,\n            }),\n        ],\n    });\n    const { getFloatingProps } = useInteractions([\n        useFocus(context),\n        useClick(context),\n        useDismiss(context),\n        useRole(context),\n    ]);\n    const floatingRef = useMergeRefs([refs.setFloating, ref]);\n    useIsomorphicLayoutEffect(() => {\n        refs.setReference(anchorEl);\n        if (!refs.reference.current || !refs.floating.current || !internalOpen)\n            return;\n        const cleanup = autoUpdate(refs.reference.current, refs.floating.current, update);\n        return () => cleanup();\n    }, [refs.floating, refs.reference, update, anchorEl, refs, internalOpen]);\n    const arrowPlacement = useMemo(() => {\n        return ARROW_PLACEMENT[flPlacement.split('-')[0]];\n    }, [flPlacement]);\n    return (jsx(Fragment, { children: internalOpen && (jsx(Container, { children: jsx(Paragraph, { asChild: true, size: size, children: jsxs(\"div\", { ref: floatingEl, className: clsx('fds-popover', `fds-popover--${variant}`, `fds-popover--${size}`, className), \"data-placement\": flPlacement, ...getFloatingProps({\n                        ref: floatingRef,\n                        tabIndex: undefined,\n                    }), style: { ...floatingStyles, ...style }, id: popoverId, \"aria-labelledby\": triggerId, ...rest, children: [children, jsx(\"div\", { ref: arrowRef, className: clsx('fds-popover__arrow', `fds-popover__arrow--${arrowPlacement}`), style: {\n                                height: ARROW_HEIGHT,\n                                width: ARROW_HEIGHT,\n                                ...(arrowX != null ? { left: arrowX } : {}),\n                                ...(arrowY != null ? { top: arrowY } : {}),\n                                ...(arrowPlacement ? { [arrowPlacement]: -4.5 } : {}),\n                            } })] }) }) })) }));\n});\nPopoverContent.displayName = 'Popover.Content';\n\nexport { PopoverContent };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}