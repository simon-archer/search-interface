{"ast":null,"code":"'use client';\n\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef } from 'react';\nimport { useFloating, useInteractions, useFocus, useClick, useDismiss, useRole, useMergeRefs, FloatingFocusManager, FloatingPortal } from '../../node_modules/@floating-ui/react/dist/floating-ui.react.js';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { DropdownMenuContext } from './DropdownMenu.js';\nimport { autoUpdate, shift } from '../../node_modules/@floating-ui/dom/dist/floating-ui.dom.js';\nimport { offset } from '../../node_modules/@floating-ui/core/dist/floating-ui.core.js';\nimport { useIsomorphicLayoutEffect } from '../../hooks/useIsomorphicLayoutEffect.js';\nconst GAP = 4;\nconst DropdownMenuContent = forwardRef((_ref, ref) => {\n  let {\n    className,\n    children,\n    ...rest\n  } = _ref;\n  const {\n    size,\n    placement,\n    portal,\n    anchorEl,\n    isControlled,\n    internalOpen,\n    setInternalOpen,\n    onClose\n  } = useContext(DropdownMenuContext);\n  const Container = portal ? FloatingPortal : React.Fragment;\n  const floatingEl = useRef(null);\n  const {\n    context,\n    update,\n    refs,\n    placement: flPlacement,\n    floatingStyles\n  } = useFloating({\n    placement,\n    open: internalOpen,\n    onOpenChange: localOpen => {\n      if (!localOpen) onClose && onClose();\n      if (!isControlled) setInternalOpen(localOpen);\n    },\n    elements: {\n      reference: anchorEl,\n      floating: floatingEl.current\n    },\n    whileElementsMounted: autoUpdate,\n    middleware: [offset(GAP), shift()]\n  });\n  const {\n    getFloatingProps\n  } = useInteractions([useFocus(context), useClick(context), useDismiss(context), useRole(context)]);\n  useIsomorphicLayoutEffect(() => {\n    refs.setReference(anchorEl);\n    if (!refs.reference.current || !refs.floating.current || !internalOpen) return;\n    const cleanup = autoUpdate(refs.reference.current, refs.floating.current, update);\n    return () => cleanup();\n  }, [refs.floating, refs.reference, update, anchorEl, refs, internalOpen]);\n  const floatingRef = useMergeRefs([refs.setFloating, ref]);\n  return jsx(Fragment, {\n    children: internalOpen && jsx(FloatingFocusManager, {\n      context: context,\n      guards: false,\n      modal: false,\n      children: jsx(Container, {\n        children: jsx(\"ul\", {\n          role: 'menu',\n          \"aria-hidden\": !internalOpen,\n          \"data-placement\": flPlacement,\n          ref: floatingRef,\n          style: floatingStyles,\n          ...getFloatingProps({\n            ref: floatingRef,\n            tabIndex: undefined\n          }),\n          className: clsx('fds-dropdownmenu', `fds-dropdownmenu--${size}`, className),\n          ...rest,\n          children: children\n        })\n      })\n    })\n  });\n});\nDropdownMenuContent.displayName = 'DropdownMenuContent';\nexport { DropdownMenuContent };","map":{"version":3,"names":["jsx","Fragment","React","forwardRef","useContext","useRef","useFloating","useInteractions","useFocus","useClick","useDismiss","useRole","useMergeRefs","FloatingFocusManager","FloatingPortal","clsx","DropdownMenuContext","autoUpdate","shift","offset","useIsomorphicLayoutEffect","GAP","DropdownMenuContent","_ref","ref","className","children","rest","size","placement","portal","anchorEl","isControlled","internalOpen","setInternalOpen","onClose","Container","floatingEl","context","update","refs","flPlacement","floatingStyles","open","onOpenChange","localOpen","elements","reference","floating","current","whileElementsMounted","middleware","getFloatingProps","setReference","cleanup","floatingRef","setFloating","guards","modal","role","style","tabIndex","undefined","displayName"],"sources":["/Users/simondreyer/CascadeProjects/search-interface/node_modules/@digdir/designsystemet-react/dist/esm/components/DropdownMenu/DropdownMenuContent.js"],"sourcesContent":["'use client';\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef } from 'react';\nimport { useFloating, useInteractions, useFocus, useClick, useDismiss, useRole, useMergeRefs, FloatingFocusManager, FloatingPortal } from '../../node_modules/@floating-ui/react/dist/floating-ui.react.js';\nimport { clsx } from '../../node_modules/clsx/dist/lite.js';\nimport { DropdownMenuContext } from './DropdownMenu.js';\nimport { autoUpdate, shift } from '../../node_modules/@floating-ui/dom/dist/floating-ui.dom.js';\nimport { offset } from '../../node_modules/@floating-ui/core/dist/floating-ui.core.js';\nimport { useIsomorphicLayoutEffect } from '../../hooks/useIsomorphicLayoutEffect.js';\n\nconst GAP = 4;\nconst DropdownMenuContent = forwardRef(({ className, children, ...rest }, ref) => {\n    const { size, placement, portal, anchorEl, isControlled, internalOpen, setInternalOpen, onClose, } = useContext(DropdownMenuContext);\n    const Container = portal ? FloatingPortal : React.Fragment;\n    const floatingEl = useRef(null);\n    const { context, update, refs, placement: flPlacement, floatingStyles, } = useFloating({\n        placement,\n        open: internalOpen,\n        onOpenChange: (localOpen) => {\n            if (!localOpen)\n                onClose && onClose();\n            if (!isControlled)\n                setInternalOpen(localOpen);\n        },\n        elements: {\n            reference: anchorEl,\n            floating: floatingEl.current,\n        },\n        whileElementsMounted: autoUpdate,\n        middleware: [offset(GAP), shift()],\n    });\n    const { getFloatingProps } = useInteractions([\n        useFocus(context),\n        useClick(context),\n        useDismiss(context),\n        useRole(context),\n    ]);\n    useIsomorphicLayoutEffect(() => {\n        refs.setReference(anchorEl);\n        if (!refs.reference.current || !refs.floating.current || !internalOpen)\n            return;\n        const cleanup = autoUpdate(refs.reference.current, refs.floating.current, update);\n        return () => cleanup();\n    }, [refs.floating, refs.reference, update, anchorEl, refs, internalOpen]);\n    const floatingRef = useMergeRefs([refs.setFloating, ref]);\n    return (jsx(Fragment, { children: internalOpen && (jsx(FloatingFocusManager, { context: context, guards: false, modal: false, children: jsx(Container, { children: jsx(\"ul\", { role: 'menu', \"aria-hidden\": !internalOpen, \"data-placement\": flPlacement, ref: floatingRef, style: floatingStyles, ...getFloatingProps({\n                        ref: floatingRef,\n                        tabIndex: undefined,\n                    }), className: clsx('fds-dropdownmenu', `fds-dropdownmenu--${size}`, className), ...rest, children: children }) }) })) }));\n});\nDropdownMenuContent.displayName = 'DropdownMenuContent';\n\nexport { DropdownMenuContent };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}