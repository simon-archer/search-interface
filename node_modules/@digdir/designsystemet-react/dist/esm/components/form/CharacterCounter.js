'use client';
import { jsxs, Fragment, jsx } from 'react/jsx-runtime';
import { ErrorMessage } from '../Typography/ErrorMessage/ErrorMessage.js';

const defaultLabel = (count) => count > -1 ? `${count} tegn igjen` : `${Math.abs(count)} tegn for mye`;
const defaultSrLabel = (maxCount) => `Tekstfelt med plass til ${maxCount} tegn`;
const CharacterCounter = ({ label = defaultLabel, srLabel: propsSrLabel, maxCount, value, id, size, }) => {
    const currentCount = maxCount - value.length;
    const hasExceededLimit = value.length > maxCount;
    const srLabel = propsSrLabel ? propsSrLabel : defaultSrLabel(maxCount);
    return (jsxs(Fragment, { children: [jsx("span", { className: `fds-sr-only`, id: id, children: srLabel }), jsx(ErrorMessage, { asChild: true, size: size, error: hasExceededLimit, children: jsx("span", { "aria-live": hasExceededLimit ? 'polite' : 'off', children: label(currentCount) }) })] }));
};
CharacterCounter.displayName = 'CharacterCounter';

export { CharacterCounter };
