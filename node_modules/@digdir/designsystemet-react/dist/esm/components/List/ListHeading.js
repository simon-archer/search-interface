'use client';
import { jsx } from 'react/jsx-runtime';
import { forwardRef, useContext, useId, useMemo, useEffect } from 'react';
import { ListContext } from './ListRoot.js';
import { Heading } from '../Typography/Heading/Heading.js';

const HEADING_SIZE_MAP = {
    sm: '2xs',
    md: 'xs',
    lg: 'sm',
};
const ListHeading = forwardRef(({ level = 2, id, ...rest }, ref) => {
    const { size, headingId, setHeadingId } = useContext(ListContext);
    const randomId = useId();
    const headingId_ = id ?? randomId;
    const headingSize = useMemo(() => HEADING_SIZE_MAP[size], [size]);
    useEffect(() => {
        if (headingId !== headingId_) {
            setHeadingId(headingId_);
        }
    }, [headingId, id, setHeadingId, headingId_]);
    return (jsx(Heading, { ref: ref, size: headingSize, id: headingId, level: level, spacing: true, ...rest }));
});
ListHeading.displayName = 'ListHeading';

export { ListHeading };
